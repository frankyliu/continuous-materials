project.ext {
    mongoJavaDriverVerison = '2.11.3'
    junitVersion = '4.11'
}

subprojects {

    apply plugin: 'java'
    group = 'fr.synchrotron.soleil.ica.ci.lib'
    sourceCompatibility = 1.7
    targetCompatibility = 1.7
    repositories {
        mavenCentral()
        maven {
            url "http://dl.bintray.com/synchrotron-soleil-ica/ci-artifacts"
        }
    }
    dependencies {
        testCompile "junit:junit:${junitVersion}"
    }
}

project('LibMongoPomImporter') {
    version = '1.0.0'
    dependencies {
        compile project(':LibMongoDomainObjects')
        compile project(':LibMongoUtilities')
        compile("org.apache.maven:maven-core:2.1.0") {
            exclude group: "org.slf4j"
        }
        compile "org.mongodb:mongo-java-driver:${mongoJavaDriverVerison}",
                "org.jongo:jongo:1.0",
                "log4j:log4j:1.2.17",
                "org.slf4j:slf4j-api:1.7.6",
                "org.slf4j:slf4j-log4j12:1.7.6"
        testCompile "com.github.fakemongo:fongo:1.3.2",
                "com.google.code.gson:gson:2.2.4"
    }
}

project(':LibMongoPomExporter') {
    dependencies {
        compile project(':LibMongoDomainObjects')
        compile project(':LibMongoUtilities')
        compile("org.apache.maven:maven-core:2.1.0") {
            exclude group: "org.slf4j"
        }
        compile "org.mongodb:mongo-java-driver:${mongoJavaDriverVerison}",
                "com.google.code.gson:gson:2.2.4"
        compile "org.slf4j:slf4j-log4j12:1.7.5"
        compile "org.slf4j:jul-to-slf4j:1.7.5"
        compile "org.jongo:jongo:1.0"

        testCompile project(':LibMongoPomImporter')
        testCompile "commons-io:commons-io:2.4"
        testCompile "xmlunit:xmlunit:1.3"
        testCompile "com.github.fakemongo:fongo:1.3.2",
                "com.google.code.gson:gson:2.2.4"
    }
}

project(':LibMongoUtilities') {
    dependencies {
        compile "org.mongodb:mongo-java-driver:${mongoJavaDriverVerison}"
    }
}

project(':LibMongoLatestMavenVersionResolver') {
    dependencies {
        compile project(':LibMongoUtilities')
        compile "org.mongodb:mongo-java-driver:${mongoJavaDriverVerison}"
        testCompile "com.github.fakemongo:fongo:1.3.2"
        testCompile "org.slf4j:slf4j-log4j12:1.7.5"
        testCompile "org.slf4j:jul-to-slf4j:1.7.5"
        testCompile "org.jongo:jongo:1.0"
        testCompile "commons-io:commons-io:2.4"
        testCompile "junit:junit:${junitVersion}"
        testCompile "org.mockito:mockito-all:1.9.5"
    }
}

project('MsVertxPomImporter') {
    dependencies {
        compile project(':LibMongoPomImporter')
        compile("io.vertx:vertx-core:2.1RC1") {
            exclude group: "org.slf4j"
        }
        compile "io.vertx:vertx-platform:2.1RC1"
    }
}


